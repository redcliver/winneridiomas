{% extends 'diretoria_base.html' %}
{% block body %}
{% load static %}
{% if msgConfirmacao %}
<script>alert('{{msgConfirmacao}}')</script>
{% endif %}
<main>
    <form method="POST" action="/gerencia/teste/editar">
        {% csrf_token %}
        <input type="hidden" name="perguntaID" value="{{perguntaObj.id}}" />
        <div class="row">
            <div class="col-sm-12 col-md-12 col-12">
                <p><img src="{% static '/icones/question.svg' %}" class="svg cabecalho" alt="">
                    <h3 class="cabecalho-text">Pergunta</h3>
                </p>
            </div>
            <div class="col-sm-12 col-md-10 col-10">
                <br>
                <label>Pergunta</label>
                <input type="text" name="pergunta" class="form-control" maxlength="1000" placeholder="Pergunta..."
                    value="{{perguntaObj.pergunta}}">
            </div>
            <div class="col-sm-12 col-md-2 col-2">
                <br>
                <label>Pontuação</label>
                <input type="number" name="pontuacao" value="1" maxlength="2" rows="4" min="0" max="10"
                    class="form-control" value="{{perguntaObj.valor}}">
            </div>
            {% if respostasObj %}
            {% for respostaModel in respostasObj %}
            {% if respostaModel.tipo == '1' %}
            <div class="col-sm-10 col-md-10 col-10">
                <br>
                <label style="color: #4EBF46;">Resposta Correta</label>
                <input type="text" name="respostaCorretaText" class="form-control" maxlength="1000"
                    placeholder="Resposta Correta..." value="{{respostaModel.resposta}}">

            </div>
            {% endif %}

            {% if respostaModel.tipo == '2' %}
            <div class="col-sm-12 col-md-10 col-10">
                <br>
                <input type="hidden" class="respostasAlternativas" name="respostasAlternativa"
                    value="{{respostaModel.id}}" />
                <label style="color: #BF4646;">Resposta Alternativa </label>
                <input type="text" name="respostaAlternativaText" class="form-control" maxlength="1000"
                    placeholder="Resposta alternativa ..." value="{{respostaModel.resposta}}">
            </div>
            {% endif %}
            {% endfor %}
            {% endif %}
        </div>
        <br />
        <button type="button" onclick="goBack()" class="btn btn-secondary float-left">Voltar</button>
        <button type="submit" class="btn btn-primary float-right">Salvar</button>
    </form>
</main>
<script>
    $("input[type='hidden'] respostasAlternativas").each(function (i) {
        $(this).find('input').attr('name', 'respostasAlternativa' + i);
    });
</script>
{% endblock %}